webpackJsonp([4],{"0SQO":function(e,t,a){"use strict";t.a={methods:{refresh:function(){this.listParams.currentPage=1,this.getTableList()},handleSizeChange:function(e){this.listParams.pageSize=e,this.getTableList()},handleCurrentChange:function(e){this.listParams.currentPage=e,this.getTableList()}}}},"6bSu":function(e,t,a){"use strict";a.d(t,"x",function(){return r}),a.d(t,"y",function(){return o}),a.d(t,"w",function(){return i}),a.d(t,"m",function(){return l}),a.d(t,"e",function(){return c}),a.d(t,"o",function(){return p}),a.d(t,"r",function(){return d}),a.d(t,"h",function(){return u}),a.d(t,"l",function(){return m}),a.d(t,"z",function(){return f}),a.d(t,"q",function(){return h}),a.d(t,"B",function(){return g}),a.d(t,"A",function(){return v}),a.d(t,"a",function(){return b}),a.d(t,"f",function(){return _}),a.d(t,"g",function(){return y}),a.d(t,"b",function(){return w}),a.d(t,"p",function(){return T}),a.d(t,"c",function(){return I}),a.d(t,"i",function(){return S}),a.d(t,"t",function(){return C}),a.d(t,"s",function(){return k}),a.d(t,"d",function(){return x}),a.d(t,"j",function(){return M}),a.d(t,"v",function(){return D}),a.d(t,"C",function(){return L}),a.d(t,"u",function(){return E}),a.d(t,"n",function(){return N}),a.d(t,"k",function(){return P});var s=a("6Hqf"),n="api-marketing/",r=function(e){return Object(s.b)(n+"page-send-record",e)},o=function(e){return Object(s.b)(n+"save-update-wechat-marketing-record",e)},i=function(e){return Object(s.b)(n+"scene-setting-list",e)},l=function(e){return Object(s.b)(n+"get-wechat-card-data",e)},c=function(e){return Object(s.b)(n+"del-wechat-marketing-record",e)},p=function(e){return Object(s.b)(n+"invalid-wechat-marketing-record",e)},d=function(e){return Object(s.b)(n+"page-marketing-wechat-image-text",e)},u=function(e){return Object(s.b)(n+"delete-image-text",e)},m=function(e){return Object(s.b)(n+"get-sync-info",e)},f=function(e){return Object(s.b)(n+"sync-wechatImage-text",e)},h=function(e){return Object(s.b)(n+"page-marketing-wechat-image",e)},g=function(e){return Object(s.b)(n+"update-marketing-wechat-image-titlename",e)},v=function(e){return Object(s.b)(n+"update-marketing-wechat-image-group",e)},b=function(e){return Object(s.b)(n+"save-marketing-wechat-image-group",e)},_=function(e){return Object(s.b)(n+"delete-marketing-wechat-image-group",e)},y=function(e){return Object(s.b)(n+"delete-batch-marketing-wechat-image",e)},w=function(e){return Object(s.b)(n+"marketing-wechat-image-changeGroup",e)},T=function(e){return Object(s.b)(n+"page-marketing-wechat-audio",e)},I=function(e){return Object(s.b)(n+"delete-marketing-wechat-audio",e)},S=function(e){return Object(s.b)(n+"marketing-wechat-audio-edit",e)},C=function(e){return Object(s.b)(n+"save-update-marketing-wechat-audio",e)},k=function(e){return Object(s.b)(n+"page-marketing-wechat-video",e)},x=function(e){return Object(s.b)(n+"delete-marketing-wechat-video",e)},M=function(e){return Object(s.b)(n+"marketing-wechat-video-edit",e)},D=function(e){return Object(s.b)(n+"save-update-marketing-wechat-video",e)},L=function(e){return Object(s.b)(n+"wechat-image-text-edit",e)},E=function(e){return Object(s.b)(n+"save-update-wechat-image-text",e)},N=function(e){return Object(s.b)(n+"get-wechat-marketing-detail",e)},P=function(e){return Object(s.b)(n+"get-marketing-user-info",e)}},"6ncD":function(e,t,a){"use strict";var s={name:"time-count",data:function(){return{isStart:!1,globalTimer:null,countString:"0秒",day:0,hour:0,minute:0,second:0,millisecond:0,countVal:this.defaultVal,pauseTime:0,nowDate:Date.now()}},watch:{countString:{deep:!0,handler:function(e,t){this.needSendSunc&&this.passToParent(e)}},needSendSunc:{deep:!0,handler:function(e){e&&this.passToParent(this.countString)}}},props:{sendSync:{type:Boolean,default:!1},autoStart:{type:Boolean,default:!1},defaultVal:{type:Number,default:0}},mounted:function(){this.autoStart&&this.startCountFn()},computed:{needSendSunc:function(){return this.sendSync}},created:function(){this.$on("startCount",function(){this.startCountFn()}),this.$on("stopCount",function(){this.stopCountFn()})},methods:{counterFn:function(e){var t=this,a=(new Date).getTime(),s=0;this.pauseTime<=0?s=e-a:(this.pauseTime=this.pauseTime+10,s=e-this.pauseTime),s<=0&&(this.stopCountFn(),this.$nextTick(function(e){t.countString=""}));var n=s%864e5,r=n%36e5,o=r%6e4;this.day=Math.floor(s/864e5),this.hour=Math.floor(n/36e5),this.minute=Math.floor(r/6e4),this.second=Math.round(o/1e3),this.day>0?this.countString=this.day+"天 "+this.hour+"小时 "+this.minute+"分 "+this.second+"秒":this.hour>0?this.countString=this.hour+"小时 "+this.minute+"分 "+this.second+"秒":this.minute>0?this.countString=this.minute+"分 "+this.second+"秒":this.countString=this.second+"秒"},startCountFn:function(){var e=this;if(!this.isStart){this.countVal=this.countVal?this.countVal:(new Date).getTime();var t=setInterval(function(t){e.counterFn(e.countVal)},1e3);this.globalTimer=t,this.isStart=!0}},stopCountFn:function(){this.isStart&&(window.clearInterval(this.globalTimer),this.globalTimer=null,this.isStart=!1,this.pauseTime=(new Date).getTime())},passToParent:function(e){this.$emit("getDataFromChild",e)}},beforeDestroy:function(){this.stopCountFn()}},n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("span",{attrs:{sendSync:this.sendSync,autoStart:this.autoStart,defaultVal:this.defaultVal}},[this._v(this._s(this.countString))])])},staticRenderFns:[]},r=a("VU/8")(s,n,!1,null,null,null);t.a=r.exports},"8G9b":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MkZBQTNFQjQ4RDkzMTFFODk5QUY5MEYyNDkzRDE2ODIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MkZBQTNFQjU4RDkzMTFFODk5QUY5MEYyNDkzRDE2ODIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5MDc3MUI4OThENUQxMUU4OTlBRjkwRjI0OTNEMTY4MiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5MDc3MUI4QThENUQxMUU4OTlBRjkwRjI0OTNEMTY4MiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PoVF8H0AAAOnSURBVHja7Jvba9NQHMdP0iRNsy0ddjd0OnFOJiIo6pOo+OSDKAoiQ8XLk1d88S8Q55PPCvPJCYI+Koj65A3RFxGc4gZSEHQXt7m1nTW9JX5Pm0HWbbFuPUna5gcfTtrSQ775nd/v/M5JwhmGQazGcRwp1Z4PJkJoRsHOvd0Nn4iHrFjXrPHL7DcIVNBEKsS4pXgYnu1GsxH8BmdAP5DBGDz91sseFpbY3zFwGcyAdeA2OAS+gu1V52GLp6lXh8A+eHawFmKYCl4D2iolhoVl/p/G8DMQdVvIt8m0iOYmqAMXQGxR11upVIPgXcAw6SnWNYtAqsc+gvdAAa+ZJC0vG6ukVXEmlDmOetD0lrtfG5sABzsi0rArgmFHQaeDDusAO8DDUv9Q7iHtRohwXj/ByothlJRb0TwBrdbvo+MppifLw5etYZGERN7xIXiiWKwTpmOmSWi6KzEX8Nr86sewL9gX7AuuHcGapqlgM5CqXjBEHkAzbK4vo/jcXe0evgW+mMUF/f16tZeWq8B9WZbvwbvncbzWroMmVST1QbapIJU1yMhUmpngp+AKxB4xxV61LblQ3woBtrskOd1g6uHjpshNoA/csOtgLJbJU7FDGkN5ihTuKvjzsC+4VjYArCYJHJFFttctnTOIlta9IbglLDIXTJN0dEzzhuCJeJYoDszDnhnSWkbP4yctF6z/1XcZnKsJwRBK71OfBUEcX6oFD9PbLm9MTS+ZxfCKeoHUyWw3MdPIEf8qX0/tbk/Cs3RJ24njgZNlfqhlzjwcFNguHrgSByKE0iXVA6ZZenQ6Q3g+y3Ye1j00LZX7hPxpyRfs8pAO8Fw+cbG0LBYPmZzhDcFtjSIJSYwXD8gR0Z8pbwiOJXN5D9TM4mFGy+Xxk5YvuMKyNOrU02goZGQysZ7n2V0rRRZJQ0hyVzApbMrvoQeZnE53x5kJlsSAP6TtJgpWHnauYLZ5cAUFyDtSuCNC7Rd4wUrwkFN601nd5jfjcUdEuuPEkH5ECu8oMbdUJgthC87ttNy6yzyG4/F4+PAWdXVXi9SL0nnGCdHj08li0XpEIX3bVhrtOJ8uoCxpM2GxB8TR4X4010jh/STZMqTIDyz6YxpCjWO900FIXVAgCmr1iGIQeX4A0os/AC6qqvphbhow/k+wKboZzQZSuEnebGkbAX0Nrx40mBeEvlyhFo2acClrA5CwLo5MIfS7PyBpZmJ662HaDKtZRsBniE3Mz3sLC/4rwADdgm5QNzjziAAAAABJRU5ErkJggg=="},Nxyd:function(e,t){},Omet:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("Xxa5"),n=a.n(s),r=a("exGp"),o=a.n(r),i=a("phH1"),l={name:"add-temp",data:function(){return{loading:!1,form:{smsRecordlateId:"",title:"",type:"",content:"",remark:""},typeOptions:[{value:0,label:"普通短信"},{value:1,label:"营销短信"},{value:2,label:"验证码短信"}],rules:{title:{required:!0,message:"请输入模板名称",trigger:"blur"},type:{required:!0,message:"请选择短信类型",trigger:"blur"},content:{required:!0,message:"请输入短信内容",trigger:"blur"},remark:{required:!0,message:"请输入申请说明",trigger:"blur"}},editFlag:"edit"===this.$route.meta.type}},computed:{asideShow:function(){return this.$store.state.marketing.asideShow}},created:function(){this.editFlag?(this.$store.commit("mutations_breadcrumb",[{name:"营销管理",path:""},{name:"短信营销",path:""},{name:"模板库",path:"/message/temp"},{name:"编辑模板",path:""}]),this.LoadTempInfo()):this.$store.commit("mutations_breadcrumb",[{name:"营销管理",path:""},{name:"短信营销",path:""},{name:"模板库",path:"/message/temp"},{name:"新增模板",path:""}])},methods:{submit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t.saveTempService()})},saveTempService:function(){var e=this;return o()(n.a.mark(function t(){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,Object(i.l)(e.form);case 4:e.$tips({type:"success",message:"操作成功"}),e.$router.push("/message/temp"),e.loading=!1,t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),e.$tips({type:"error",message:"操作失败"}),e.loading=!1;case 13:case"end":return t.stop()}},t,e,[[0,9]])}))()},LoadTempInfo:function(){var e=this;return o()(n.a.mark(function t(){var a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,Object(i.e)({smsTemplateId:e.$route.params.id});case 3:a=t.sent,e.form={smsTemplateId:a.result.smsTemplateId,type:a.result.type,content:a.result.content,remark:a.result.remark,title:a.result.title},e.loading=!1;case 6:case"end":return t.stop()}},t,e)}))()}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"dm-wrap"},[a("el-row",{staticClass:"sms-temp__tipsT",attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("p",{staticStyle:{color:"#1890ff"}},[e._v("1.长度不要超过450字(汉字，字符，数字等可见符号，都按1个字计算)。单条短信长度为70字，超过70字后，按67字/条分割成多条，以长短信的方式发送给用户，即用户收到的是一条长短信，但是按多条计费")]),e._v(" "),a("p",[e._v("2.营销类短信，请在短信内容后面增加"),a("span",{staticStyle:{color:"#1890ff"}},[e._v("“回T退订”")])]),e._v(" "),a("p",[e._v("3.短信模板内容不能含有【】符号")]),e._v(" "),a("p",[e._v("4.不能发送房产、移民、贷款、政治、色情、暴力等违法类短信")]),e._v(" "),a("p",[e._v("5.短信内容中不能输入Enter/换行，否则将导致短信分条发送")])])],1),e._v(" "),a("el-row",{staticClass:"mt20",attrs:{gutter:20}},[a("el-form",{ref:"form",attrs:{"label-width":"80px",model:e.form,rules:e.rules}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"模板名称",prop:"title"}},[a("dm-input",{attrs:{maxlength:10},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"短信类型",prop:"type"}},[a("el-select",{model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.typeOptions,function(e,t){return a("el-option",{key:t,attrs:{value:e.value,label:e.label}})}),1)],1),e._v(" "),a("el-form-item",{staticClass:"pb10",attrs:{label:"短信内容",prop:"content"}},[a("dm-input",{attrs:{type:"textarea",rows:4,maxlength:450},model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"申请说明",prop:"remark"}},[a("dm-input",{attrs:{type:"textarea",rows:4,maxlength:120},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1)],1),e._v(" "),a("el-col",{staticClass:"sms-temp__tips clearfix",attrs:{span:12}},[a("div",[e._v("模板示列如下，其中{数字}为可插入的变量值，参照表如下：注意考虑变量值的文本长度，以免超出67字/条的文本上限。")]),e._v(" "),a("ul",{staticClass:"fl"},[a("li",[e._v("{1}={姓名}")]),e._v(" "),a("li",[e._v("{2}={姓名+先生/女士}")]),e._v(" "),a("li",[e._v("{3}={生日日期}")]),e._v(" "),a("li",[e._v("{4}={生日天数}")]),e._v(" "),a("li",[e._v("{5}={关注日期}")]),e._v(" "),a("li",[e._v("{6}={关注天数}")]),e._v(" "),a("li",[e._v("{7}={主门店品牌名称}")]),e._v(" "),a("li",[e._v("{8}={主门店名称}")]),e._v(" "),a("li",[e._v("{9}={主门店电话}")]),e._v(" "),a("li",[e._v("{10}={专属导购姓名}")]),e._v(" "),a("li",[e._v("{11}={专属导购手机号}")]),e._v(" "),a("li",[e._v("{12}={开卡日期}")]),e._v(" "),a("li",[e._v("{13}={开卡天数}")]),e._v(" "),a("li",[e._v("{14}={开卡门店名称}")])]),e._v(" "),a("ul",{staticClass:"fl"},[a("li",[e._v("{15}={会员卡号}")]),e._v(" "),a("li",[e._v("{16}={会员等级名称}")]),e._v(" "),a("li",[e._v("{17}={主门店地址}")]),e._v(" "),a("li",[e._v("{18}={会员等级剩余有效天数}")]),e._v(" "),a("li",[e._v("{19}={积分余额}")]),e._v(" "),a("li",[e._v("{20}={30天内将过期积分额度}")]),e._v(" "),a("li",[e._v("{21}={储值余额}")]),e._v(" "),a("li",[e._v("{22}={消费总额}")]),e._v(" "),a("li",[e._v("{23}={消费次数}")]),e._v(" "),a("li",[e._v("{24}={最近消费日期}")]),e._v(" "),a("li",[e._v("{25}={最近消费间隔}")]),e._v(" "),a("li",[e._v("{26}={最高单笔消费}")]),e._v(" "),a("li",[e._v("{27}={最近消费门店名称}")]),e._v(" "),a("li",[e._v("{28}={最近消费品牌名称}")])])])],1),e._v(" "),a("div",{staticClass:"btn-wrap_fixed",class:{on:e.asideShow}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit("form")}}},[e._v("提 交")]),e._v(" "),a("el-button",{on:{click:function(t){return e.$router.go(-1)}}},[e._v("返 回")])],1)],1)},staticRenderFns:[]};var p=a("VU/8")(l,c,!1,function(e){a("VYWq")},"data-v-30911402",null);t.default=p.exports},"Q+a4":function(e,t,a){"use strict";t.a={data:function(){return{defaultAvatar:a("hKdl")}},methods:{filterAvatar:function(e){return e?e.replace(/^http(s)?/,"https"):this.defaultAvatar}}}},Rf88:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("router-view")],1)},staticRenderFns:[]},n=a("VU/8")({name:"message",created:function(){var e=this;this.$store.commit("aside_handler",!1),this.$nextTick(function(t){e.$store.commit("aside_handler",!0)})}},s,!1,null,null,null);t.default=n.exports},SldL:function(e,t){!function(t){"use strict";var a,s=Object.prototype,n=s.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag",c="object"==typeof e,p=t.regeneratorRuntime;if(p)c&&(e.exports=p);else{(p=t.regeneratorRuntime=c?e.exports:{}).wrap=y;var d="suspendedStart",u="suspendedYield",m="executing",f="completed",h={},g={};g[o]=function(){return this};var v=Object.getPrototypeOf,b=v&&v(v(E([])));b&&b!==s&&n.call(b,o)&&(g=b);var _=S.prototype=T.prototype=Object.create(g);I.prototype=_.constructor=S,S.constructor=I,S[l]=I.displayName="GeneratorFunction",p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===I||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,S):(e.__proto__=S,l in e||(e[l]="GeneratorFunction")),e.prototype=Object.create(_),e},p.awrap=function(e){return{__await:e}},C(k.prototype),k.prototype[i]=function(){return this},p.AsyncIterator=k,p.async=function(e,t,a,s){var n=new k(y(e,t,a,s));return p.isGeneratorFunction(t)?n:n.next().then(function(e){return e.done?e.value:n.next()})},C(_),_[l]="Generator",_[o]=function(){return this},_.toString=function(){return"[object Generator]"},p.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var s=t.pop();if(s in e)return a.value=s,a.done=!1,a}return a.done=!0,a}},p.values=E,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(D),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=a)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function s(s,n){return i.type="throw",i.arg=e,t.next=s,n&&(t.method="next",t.arg=a),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return s("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return s(o.catchLoc,!0);if(this.prev<o.finallyLoc)return s(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return s(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return s(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a];if(s.tryLoc<=this.prev&&n.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var r=s;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=e,o.arg=t,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),D(a),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var s=a.completion;if("throw"===s.type){var n=s.arg;D(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,s){return this.delegate={iterator:E(e),resultName:t,nextLoc:s},"next"===this.method&&(this.arg=a),h}}}function y(e,t,a,s){var n=t&&t.prototype instanceof T?t:T,r=Object.create(n.prototype),o=new L(s||[]);return r._invoke=function(e,t,a){var s=d;return function(n,r){if(s===m)throw new Error("Generator is already running");if(s===f){if("throw"===n)throw r;return N()}for(a.method=n,a.arg=r;;){var o=a.delegate;if(o){var i=x(o,a);if(i){if(i===h)continue;return i}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===d)throw s=f,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=m;var l=w(e,t,a);if("normal"===l.type){if(s=a.done?f:u,l.arg===h)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(s=f,a.method="throw",a.arg=l.arg)}}}(e,a,o),r}function w(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}function T(){}function I(){}function S(){}function C(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function k(e){var t;this._invoke=function(a,s){function r(){return new Promise(function(t,r){!function t(a,s,r,o){var i=w(e[a],e,s);if("throw"!==i.type){var l=i.arg,c=l.value;return c&&"object"==typeof c&&n.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,r,o)},function(e){t("throw",e,r,o)}):Promise.resolve(c).then(function(e){l.value=e,r(l)},o)}o(i.arg)}(a,s,t,r)})}return t=t?t.then(r,r):r()}}function x(e,t){var s=e.iterator[t.method];if(s===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=a,x(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=w(s,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,h;var r=n.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=a),t.delegate=null,h):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function M(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function D(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function E(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var s=-1,r=function t(){for(;++s<e.length;)if(n.call(e,s))return t.value=e[s],t.done=!1,t;return t.value=a,t.done=!0,t};return r.next=r}}return{next:N}}function N(){return{value:a,done:!0}}}(function(){return this}()||Function("return this")())},Ujq8:function(e,t){},VYWq:function(e,t){},Xxa5:function(e,t,a){e.exports=a("jyFz")},exGp:function(e,t,a){"use strict";t.__esModule=!0;var s,n=a("//Fk"),r=(s=n)&&s.__esModule?s:{default:s};t.default=function(e){return function(){var t=e.apply(this,arguments);return new r.default(function(e,a){return function s(n,o){try{var i=t[n](o),l=i.value}catch(e){return void a(e)}if(!i.done)return r.default.resolve(l).then(function(e){s("next",e)},function(e){s("throw",e)});e(l)}("next")})}}},jyFz:function(e,t,a){var s=function(){return this}()||Function("return this")(),n=s.regeneratorRuntime&&Object.getOwnPropertyNames(s).indexOf("regeneratorRuntime")>=0,r=n&&s.regeneratorRuntime;if(s.regeneratorRuntime=void 0,e.exports=a("SldL"),n)s.regeneratorRuntime=r;else try{delete s.regeneratorRuntime}catch(e){s.regeneratorRuntime=void 0}},"m/Ue":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("Xxa5"),n=a.n(s),r=a("exGp"),o=a.n(r),i=a("phH1"),l=a("6bSu"),c=a("0xDb"),p=a("6ncD"),d=a("0SQO"),u={name:"sms-record",components:{timeCounts:p.a},mixins:[d.a],data:function(){var e=this.$createElement;return{sendStatusOptions:[{value:"",label:"所有状态",type:""},{value:0,label:"定时执行",type:"warning"},{value:1,label:"执行完毕",type:"success"},{value:2,label:"执行失败",type:"danger"},{value:3,label:"无可用模板",type:"danger"},{value:4,label:"定时执行",type:"info"},{value:5,label:"执行中",type:"primary--flash"},{value:-1,label:"已失效",type:"danger"}],sceneSettingIdOptions:[{sceneSettingId:-1,sceneName:"所有营销场景"}],recordLoading:!1,messageList:[],recordHeader:[{label:"模板名称",prop:"templateName",minWidth:"140",align:"left",fixed:"left",formatter:function(t){return e("div",[e("span",[t.templateName]),e("p",{class:"fz13 gray"},["(ID:",t.templateId,")"])])}},{label:"发送人",prop:"sendName",width:"100",tooltip:!0,align:"left"},{label:"模板内容",prop:"templateContent",minWidth:"150",tooltip:!1,align:"left",formatter:function(t,a,s,n){return t.templateContent&&t.templateContent.length>10?e("el-popover",{attrs:{placement:"top-start",width:"200",trigger:"hover",content:t.templateContent}},[e("div",{class:"ellipsis",slot:"reference"},[t.templateContent])]):e("span",[t.templateContent])}},{label:"计划人数",prop:"sendCount",width:"100",align:"left"},{label:"送达人数",prop:"sendSuccess",width:"100",align:"left"},{label:"计费条数",prop:"countNum",width:"100",align:"left"}],listParams:{sendStatus:"",sceneSettingId:-1,sendBeginTime:"",sendEndTime:"",search:"",currentPage:1,pageSize:20},dateTime:["",""],total:0}},created:function(){this.$store.commit("mutations_breadcrumb",[{name:"营销管理",path:""},{name:"短信营销",path:""},{name:"短信群发",path:""}]),this.getTableList(),this.sceneSettingList()},methods:{formatDateTimeByType:c.d,getTableList:function(){var e=this;return o()(n.a.mark(function t(){var a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.recordLoading=!0,e.dateTime?(e.listParams.sendBeginTime=Object(c.d)(e.dateTime[0],"yyyy-MM-dd"),e.listParams.sendEndTime=Object(c.d)(e.dateTime[1],"yyyy-MM-dd")):e.listParams.sendBeginTime=e.listParams.sendEndTime="",t.next=5,Object(i.d)(e.listParams);case 5:0===(a=t.sent).errorCode&&a.result?(e.messageList=a.result.result||[],e.total=a.result.totalCount):(e.messageList=[],e.total=0),e.recordLoading=!1,t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),e.recordLoading=!1;case 13:case"end":return t.stop()}},t,e,[[0,10]])}))()},invalidData:function(e){var t=this;Object(i.j)({smsId:e.smsId}).then(function(e){t.$tips({type:"success",message:"禁用成功!"}),t.getTableList()}).catch(function(e){t.$tips({type:"error",message:"禁用失败!"})})},sceneSettingList:function(){var e=this;return o()(n.a.mark(function t(){var a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.w)();case 2:a=t.sent,e.sceneSettingIdOptions=e.sceneSettingIdOptions.concat(a.result||[]);case 4:case"end":return t.stop()}},t,e)}))()},filterStatus:function(e){var t={label:"执行错误",type:"warning"};return this.sendStatusOptions.forEach(function(a){e===a.value&&(t=a)}),t}}},m={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"dm-wrap"},[a("div",{staticClass:"clearfix pb22"},[a("el-date-picker",{staticClass:"w250",attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:e.refresh},model:{value:e.dateTime,callback:function(t){e.dateTime=t},expression:"dateTime"}}),e._v(" "),a("el-select",{staticClass:"dm-select",attrs:{placeholder:"选择发送状态"},on:{change:e.refresh},model:{value:e.listParams.sendStatus,callback:function(t){e.$set(e.listParams,"sendStatus",t)},expression:"listParams.sendStatus"}},e._l(e.sendStatusOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),a("el-select",{staticClass:"dm-select",attrs:{placeholder:"选择营销场景"},on:{change:e.refresh},model:{value:e.listParams.sceneSettingId,callback:function(t){e.$set(e.listParams,"sceneSettingId",t)},expression:"listParams.sceneSettingId"}},e._l(e.sceneSettingIdOptions,function(e){return a("el-option",{key:e.sceneSettingId,attrs:{label:e.sceneName,value:e.sceneSettingId}})}),1),e._v(" "),a("el-input",{staticClass:"w200",attrs:{placeholder:"输入模板名称/ID/内容",clearable:""},on:{change:e.refresh},model:{value:e.listParams.search,callback:function(t){e.$set(e.listParams,"search",t)},expression:"listParams.search"}},[a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})]),e._v(" "),a("el-button",{staticClass:"fr",attrs:{type:"primary"},on:{click:function(t){return e.$router.push("/message/record/add")}}},[e._v("新建群发")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.recordLoading,expression:"recordLoading"}],staticStyle:{width:"100%"},attrs:{tooltipEffect:"light",data:e.messageList,"row-key":"sendTime"}},[a("el-table-column",{attrs:{"min-width":100,align:"left",label:"发送时间",prop:"sendTime"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",{staticClass:"cell-time"},[e._v("\n          "+e._s(e.formatDateTimeByType(t.row.sendTime,"yyyy-MM-dd-HH-mm-ss",!0).y)),a("br"),a("span",[e._v(e._s(e.formatDateTimeByType(t.row.sendTime,"yyyy-MM-dd-HH-mm-ss",!0).h))])])]}}])}),e._v(" "),e._l(e.recordHeader,function(e,t){return a("el-table-column",{key:t,attrs:{"show-overflow-tooltip":e.tooltip,width:e.width,"min-width":e.minWidth,align:e.align,prop:e.prop,label:e.label,formatter:e.formatter,fixed:e.fixed}})}),e._v(" "),a("el-table-column",{attrs:{label:"状态",prop:"sendStatus",align:"left",width:"140px"},scopedSlots:e._u([{key:"default",fn:function(t){return[5===t.row.sendStatus?a("span",[a("span",{staticClass:"dm-status--primary--flash"}),e._v("执行中")]):a("span",{class:"dm-status--"+e.filterStatus(t.row.sendStatus).type},[e._v(e._s(e.filterStatus(t.row.sendStatus).label))]),e._v(" "),0==t.row.sendStatus?a("time-counts",{staticClass:"primary-color fz12",attrs:{defaultVal:t.row.sendTime,autoStart:!0}}):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"left",width:"140px",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.$router.push("/message/record/detail/"+t.row.smsId)}}},[e._v("详情")]),e._v(" "),4==t.row.sendStatus||0==t.row.sendStatus?a("dm-delete",{attrs:{tips:"是否禁用该发送记录?"},on:{confirm:function(a){return e.invalidData(t.row)}}},[a("el-button",{attrs:{type:"text"}},[e._v("禁用")])],1):e._e()]}}])})],2),e._v(" "),a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.messageList.length,expression:"messageList.length"}],staticClass:"dm-pagination",attrs:{background:"","current-page":e.listParams.currentPage,"page-sizes":[20,40,60,80],"page-size":e.listParams.pageSize,layout:"total, sizes, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},staticRenderFns:[]},f=a("VU/8")(u,m,!1,null,null,null);t.default=f.exports},pUPn:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("Xxa5"),n=a.n(s),r=a("exGp"),o=a.n(r),i=a("phH1"),l=a("0xDb"),c=[{code:"1008",reason:"请求下发短信/语音超时",plan:"出现概率很低，可重试解决"},{code:"1020",reason:"sdkappid 已禁用",plan:"此 sdkappid 禁止提供服务，如有需要请联系 sms helper"},{code:"1017",reason:"请求的短信内容太长",plan:"短信内容长度 超过限制，请调整短信长度"},{code:"MB:1042",pass:"移动",reason:"SMC 内存中缓存的、要下发给被叫用户的短消息数超过了该用户的最大下发数。",plan:"检查该被叫号码在 SMC 内存中的短消息积压情况。若达到了该被叫实体的最大下发数，请稍后再提交"},{code:"1004",reason:"请求包解析失败，通常情况下是由于没有遵守 API 接口说明规范导致的",plan:"可参考 1004 错误详解"},{code:"1014",reason:"模版未审批或请求的内容与审核通过的模版内容不匹配",plan:"可参考 1014 错误详解"},{code:"1015",reason:"手机号在黑名单库中,通常是用户退订或者命中运营商黑名单导致的",plan:"可联系 sms helper 解决"},{code:"1022",reason:"业务短信日下发条数超过设定的上限",plan:"可自行到控制台调整短信频率限制策略"},{code:"1023",reason:"单个手机号 30 秒内下发短信条数超过设定的上限",plan:"可自行到控制台调整短信频率限制策略"},{code:"1024",reason:"单个手机号 1 小时内下发短信条数超过设定的上限",plan:"可自行到控制台调整短信频率限制策略"},{code:"1025",reason:"单个手机号日下发短信条数超过设定的上限",plan:"可自行到控制台调整短信频率限制策略"},{code:"1026",reason:"单个手机号下发相同内容超过设定的上限",plan:"可自行到控制台调整短信频率限制策略"},{code:"1013",reason:"下发短信/语音命中了频率限制策略",plan:"可自行到控制台调整短信频率限制策略；语音如有需要请联系 sms helper"},{code:"1033",reason:"欠费被停止服务",plan:"可自行登录腾讯云充值来缴清欠款"},{code:"1009",reason:"请求 IP 不在白名单中",plan:"您配置了校验请求来源 IP，但是检测到当前请求 IP 不在配置列表中，如有需要请联系 sms helper"},{code:"1012",reason:"签名格式错误或者签名未审批",plan:"签名只能由中英文、数字组成，要求 2~12 个字;如果符合签名格式规范，请核查签名是否已审批"},{code:"1031",reason:"套餐包余量不足",plan:"请 购买套餐包"},{code:"1006",reason:"请求没有权限，比如没有扩展码权限等",plan:"请查看错误提示语说明，如还有问题请提供失败手机号联系 sms helper"},{code:"1007",reason:"其他错误",plan:"请查看错误提示语说明，如还有问题请提供失败手机号联系 sms helper"},{code:"1011",reason:"不存在该 REST API 接口",plan:"请核查 REST API 接口说明"},{code:"1016",reason:"手机号格式错误",plan:"请核查下发短信/语音的用户手机号格式是否正确"},{code:"1001",reason:"sig 校验失败",plan:"请核对 API 的 sig 格式说明"},{code:"1021",reason:"请求发起时间不正常，通常是由于您的服务器时间与腾讯云服务器时间差异超过 10 分钟导致的",plan:"请核对服务器时间及 API 接口中的时间字段是否正常"},{code:"REJECTD_006",pass:"电信",reason:"短消息因为某种原因被拒绝",plan:"请核实短信是否为行业短信，如是，可以请用户致电联通客服确认号码的短信业务是否开通"},{code:"REJECTD_706",pass:"电信",reason:"短消息因为某种原因被拒绝",plan:"请核实短信是否为行业短信，如是，可以请用户致电联通客服确认号码的短信业务是否开通"},{code:"REJECTD",pass:"三网",reason:"短消息因某种原因被拒绝",plan:"请核实手机终端是否处于正常状态"},{code:"UNDELIV",pass:"移动",reason:"空号、停机或关机",plan:"请核实手机终端是否处于正常状态"},{code:"MN:0001",pass:"移动",reason:"空号、停机或关机",plan:"请核实手机终端是否处于正常状态"},{code:"MK:0012",pass:"移动",reason:"空号",plan:"请核实手机终端是否处于正常状态"},{code:"MK:0000",pass:"移动",reason:"号码为空号",plan:"请核实手机终端是否处于正常状态"},{code:"MN:0054",pass:"移动",reason:"空号、停机或关机",plan:"请核实手机终端是否处于正常状态"},{code:"MK:0001",pass:"移动",reason:"MK0001是HLR查无此号，短信中心返回状态为无法识别被叫号码。说明用户发送的号码有误",plan:"请核实手机终端是否处于正常状态"},{code:"MI:0022",pass:"移动",reason:"移动网关的内部错误",plan:"请核实手机终端是否处于正常状态"},{code:"MC:0055",pass:"移动",reason:"由于用户不在服务区或内存满导致发送失败",plan:"请核实手机终端是否处于正常状态"},{code:"MK:0029",pass:"移动",reason:"暂时无法接通",plan:"请核实手机终端是否处于正常状态"},{code:"MK:0024",pass:"移动",reason:"下发短消息时，目的手机关机，导致该短消息下发失败。",plan:"请核实手机终端是否处于正常状态"},{code:"MK00001",pass:"移动",reason:"手机终端是空号",plan:"请核实手机终端是否处于正常状态"},{code:"MK:0015",pass:"移动",reason:"下发短消息时，手机在接收过程出现软件问题。例如，手机重启后，处理短消息部分软件没有初始化完成，此时无法正常处理短消息。",plan:"请核实手机终端是否处于正常状态"},{code:"MN:0029",pass:"移动",reason:"空号、停机或关机",plan:"请核实手机终端是否处于正常状态"},{code:"IC:0151",pass:"移动",reason:"空号、停机或关机",plan:"请核实手机终端是否处于正常状态"},{code:"MK:0010",pass:"移动",reason:"暂时无法接通",plan:"请核实手机终端是否处于正常状态"},{code:"DA:0054",pass:"移动",reason:"超时未接收到响应消息",plan:"请核实手机终端是否处于正常状态"},{code:"ERR_NUM",pass:"移动",reason:"被叫号码不正确或被限制",plan:"请核实手机终端是否处于正常状态"},{code:"MK:0008",pass:"移动",reason:"用户当前所在地区信号不好，无法接收短消息。",plan:"请核实手机终端是否处于正常状态"},{code:"MK:0075",pass:"移动",reason:"空号、停机或关机",plan:"请核实手机终端是否处于正常状态"},{code:"MN:0022",pass:"移动",reason:"空号、停机或关机",plan:"请核实手机终端是否处于正常状态"},{code:"MN:0022",pass:"移动",reason:"空号、停机或关机",plan:"请核实手机终端是否处于正常状态"},{code:"MN:0020",pass:"移动",reason:"移动网关的内部错误",plan:"请核实手机终端是否处于正常状态"},{code:"MI:0012",pass:"移动",reason:"非法设备",plan:"请核实手机终端是否处于正常状态"},{code:"MN:0012",pass:"移动",reason:"空号、停机或关机",plan:"请核实手机终端是否处于正常状态"},{code:"MN:0050",pass:"移动",reason:"空号、停机或关机",plan:"请核实手机终端是否处于正常状态"},{code:"MN:0017",pass:"移动",reason:"短信息被拒绝",plan:"请核实手机终端是否处于正常状态"},{code:"MC:0055_006",pass:"移动",reason:"由于用户不在服务区或内存满导致发送失败",plan:"请核实手机终端是否处于正常状态"},{code:"ERR_NUM_006",pass:"移动",reason:"被叫号码不正确或被限制",plan:"请核实手机终端是否处于正常状态"},{code:"MI:0056",pass:"移动",reason:"响应超时",plan:"请核实手机终端是否处于正常状态"},{code:"MK:0019",pass:"移动",reason:"MS 不支持短消息终呼业务",plan:"请核实手机终端是否处于正常状态"},{code:"IB:0064",pass:"移动",reason:"关机",plan:"请核实手机终端是否处于正常状态"},{code:"MI00022",pass:"移动",reason:"手机终端内存满",plan:"请核实手机终端是否处于正常状态"},{code:"MC:0055_000",pass:"移动",reason:"由于用户不在服务区或内存满导致发送失败",plan:"请核实手机终端是否处于正常状态"},{code:"ID:0012",pass:"移动",reason:"计费地址错误",plan:"请核实手机终端是否处于正常状态"},{code:"MI:0099",pass:"移动",reason:"vmsc 返回收到未预期响应",plan:"请核实手机终端是否处于正常状态"},{code:"MI:0090",pass:"移动",reason:"vmsc 返回远端地址不可达",plan:"请核实手机终端是否处于正常状态"},{code:"MN0013",pass:"移动",reason:"机终端停机",plan:"请核实手机终端是否处于正常状态"},{code:"MB:1031",pass:"移动",reason:"短信中心回的，超出最大发送次数，可能是手机满了",plan:"请核实手机终端是否处于正常状态"},{code:"12",pass:"联通",reason:"计费地址错（空号、关机、停机、通话被限制或者转到联通秘书）",plan:"请核实手机终端是否处于正常状态"},{code:"1",pass:"联通",reason:"空号、号码不存在",plan:"请核实手机终端是否处于正常状态"},{code:"10",pass:"联通",reason:"Src_ID 错（空号、关机、停机、通话被限制或者转到联通秘书）",plan:"请核实手机终端是否处于正常状态"},{code:"24",pass:"联通",reason:"计费号码无效（用户不在使用）",plan:"请核实手机终端是否处于正常状态"},{code:"5",pass:"联通",reason:"号码已停机",plan:"请核实手机终端是否处于正常状态"},{code:"29",pass:"联通",reason:"手机用户信息错误",plan:"请核实手机终端是否处于正常状态"},{code:"93",pass:"联通",reason:"月租鉴权失败（用户已经停机或销户）",plan:"请核实手机终端是否处于正常状态"},{code:"4",pass:"联通",reason:"手机关机",plan:"请核实手机终端是否处于正常状态"},{code:"54",pass:"联通",reason:"用户已关机",plan:"请核实手机终端是否处于正常状态"},{code:"15",pass:"联通",reason:"号码不在服务区",plan:"请核实手机终端是否处于正常状态"},{code:"51",pass:"联通",reason:"用户已关机",plan:"请核实手机终端是否处于正常状态"},{code:"-37",pass:"联通",reason:"用户已关机",plan:"请核实手机终端是否处于正常状态"},{code:"20",pass:"联通",reason:"暂时停机",plan:"请核实手机终端是否处于正常状态"},{code:"55",pass:"联通",reason:"号码不在服务区",plan:"请核实手机终端是否处于正常状态"},{code:"67",pass:"联通",reason:"号码是空号",plan:"请核实手机终端是否处于正常状态"},{code:"95",pass:"联通",reason:"鉴权失败因为用户销户或不存在",plan:"请核实手机终端是否处于正常状态"},{code:"79",pass:"联通",reason:"内存满",plan:"请核实手机终端是否处于正常状态"},{code:"53",pass:"联通",reason:"用户已关机",plan:"请核实手机终端是否处于正常状态"},{code:"61",pass:"联通",reason:"号码是空号",plan:"请核实手机终端是否处于正常状态"},{code:"45",pass:"联通",reason:"号码停机",plan:"请核实手机终端是否处于正常状态"},{code:"9",pass:"联通",reason:"非法序列号，包括序列号重复、序列号格式错误等",plan:"请核实手机终端是否处于正常状态"},{code:"89",pass:"联通",reason:"号码不在服务区",plan:"请核实手机终端是否处于正常状态"},{code:"64",pass:"联通",reason:"号码不在服务区",plan:"请核实手机终端是否处于正常状态"},{code:"88",pass:"联通",reason:"号码不在服务区",plan:"请核实手机终端是否处于正常状态"},{code:"98",pass:"联通",reason:"暂时停机",plan:"请核实手机终端是否处于正常状态"},{code:"36",pass:"联通",reason:"号码停机",plan:"请核实手机终端是否处于正常状态"},{code:"99",pass:"联通",reason:"暂时停机",plan:"请核实手机终端是否处于正常状态"},{code:"43",pass:"联通",reason:"内存满",plan:"请核实手机终端是否处于正常状态"},{code:"-43",pass:"联通",reason:"内存满",plan:"请核实手机终端是否处于正常状态"},{code:"56",pass:"联通",reason:"欠费停机",plan:"请核实手机终端是否处于正常状态"},{code:"70",pass:"联通",reason:"号码不在服务区",plan:"请核实手机终端是否处于正常状态"},{code:"UNDELIV_601",pass:"电信",reason:"用户因为状态不正确如处于停机、挂起等状态而导致用户无法接收到短信",plan:"请核实手机终端是否处于正常状态"},{code:"EXPIRED_602",pass:"电信",reason:"用户因为状态不正确如处于停机、挂起等状态而导致用户无法接收到短信",plan:"请核实手机终端是否处于正常状态"},{code:"UNDELIV_640",pass:"电信",reason:"用户因为状态不正确如处于停机、挂起等状态而导致用户无法接收到短信",plan:"请核实手机终端是否处于正常状态"},{code:"UNDELIV_705",pass:"电信",reason:"用户因为状态不正确如处于停机、挂起等状态而导致用户无法接收到短信",plan:"请核实手机终端是否处于正常状态"},{code:"EXPIRED_760",pass:"电信",reason:"用户因为状态不正确如处于停机、挂起等状态而导致用户无法接收到短信",plan:"请核实手机终端是否处于正常状态"},{code:"EXPIRED_601",pass:"电信",reason:"用户因为状态不正确如处于停机、挂起等状态而导致用户无法接收到短信",plan:"请核实手机终端是否处于正常状态"},{code:"UNDELIV_869",pass:"电信",reason:"用户因为状态不正确如处于停机、挂起等状态而导致用户无法接收到短信",plan:"请核实手机终端是否处于正常状态"},{code:"UNDELIV_602",pass:"电信",reason:"用户因为状态不正确如处于停机、挂起等状态而导致用户无法接收到短信",plan:"请核实手机终端是否处于正常状态"},{code:"UNDELIV_614",pass:"电信",reason:"用户因为状态不正确如处于停机、挂起等状态而导致用户无法接收到短信",plan:"请核实手机终端是否处于正常状态"},{code:"EXPIRED_660",pass:"电信",reason:"用户因为状态不正确如处于停机、挂起等状态而导致用户无法接收到短信",plan:"请核实手机终端是否处于正常状态"},{code:"EXPIRED_702",pass:"电信",reason:"用户因为状态不正确如处于停机、挂起等状态而导致用户无法接收到短信",plan:"请核实手机终端是否处于正常状态"},{code:"EXPIRED_640",pass:"电信",reason:"用户因为状态不正确如处于停机、挂起等状态而导致用户无法接收到短信",plan:"请核实手机终端是否处于正常状态"},{code:"EXPIRED_615",pass:"电信",reason:"短消息因为某种原因被拒绝",plan:"请核实手机终端是否处于正常状态"},{code:"UNDELIV_702",pass:"电信",reason:"用户因为状态不正确如处于停机、挂起等状态而导致用户无法接收到短信",plan:"请核实手机终端是否处于正常状态"},{code:"UNDELIV_815",pass:"电信",reason:"用户因为状态不正确如处于停机、挂起等状态而导致用户无法接收到短信",plan:"请核实手机终端是否处于正常状态"},{code:"UNDELIV_771",pass:"电信",reason:"用户因为状态不正确如处于停机、挂起等状态而导致用户无法接收到短信",plan:"请核实手机终端是否处于正常状态"},{code:"UNDELIV_711",pass:"电信",reason:"用户因为状态不正确如处于停机、挂起等状态而导致用户无法接收到短信",plan:"请核实手机终端是否处于正常状态"},{code:"UNDELIV_627",pass:"电信",reason:"用户因为状态不正确如处于停机、挂起等状态而导致用户无法接收到短信",plan:"请核实手机终端是否处于正常状态"},{code:"UNDELIV_814",pass:"电信",reason:"用户因为状态不正确如处于停机、挂起等状态而导致用户无法接收到短信",plan:"请核实手机终端是否处于正常状态"},{code:"UNDELIV_660",pass:"电信",reason:"用户因为状态不正确如处于停机、挂起等状态而导致用户无法接收到短信",plan:"请核实手机终端是否处于正常状态"},{code:"UNDELIV_613",pass:"电信",reason:"用户因为状态不正确如处于停机、挂起等状态而导致用户无法接收到短信",plan:"请核实手机终端是否处于正常状态"},{code:"UNDELIV_619",pass:"电信",reason:"用户因为状态不正确如处于停机、挂起等状态而导致用户无法接收到短信",plan:"请核实手机终端是否处于正常状态"},{code:"UNDELIV_680",pass:"电信",reason:"用户因为状态不正确如处于停机、挂起等状态而导致用户无法接收到短信",plan:"请核实手机终端是否处于正常状态"},{code:"UNDELIV_636",pass:"电信",reason:"用户因为状态不正确如处于停机、挂起等状态而导致用户无法接收到短信",plan:"请核实手机终端是否处于正常状态"},{code:"UNDELIV_726",pass:"电信",reason:"用户因为状态不正确如处于停机、挂起等状态而导致用户无法接收到短信",plan:"请核实手机终端是否处于正常状态"},{code:"UNDELIV_718",pass:"电信",reason:"用户因为状态不正确如处于停机、挂起等状态而导致用户无法接收到短信",plan:"请核实手机终端是否处于正常状态"},{code:"UNDELIV_880",pass:"电信",reason:"用户因为状态不正确如处于停机、挂起等状态而导致用户无法接收到短信",plan:"请核实手机终端是否处于正常状态"},{code:"UNDELIV_634",pass:"电信",reason:"用户因为状态不正确如处于停机、挂起等状态而导致用户无法接收到短信",plan:"请核实手机终端是否处于正常状态"},{code:"UNDELIV_001",pass:"电信",reason:"用户因为状态不正确如处于停机、挂起等状态而导致用户无法接收到短信",plan:"请核实手机终端是否处于正常状态"},{code:"UNDELIV_620",pass:"电信",reason:"用户因为状态不正确如处于停机、挂起等状态而导致用户无法接收到短信",plan:"请核实手机终端是否处于正常状态"},{code:"IA:0054",pass:"移动",reason:"超时未接收到响应消息",plan:"请核实手机终端是否处于正常状态，可请用户重启手机后再次测试看看"},{code:"13",pass:"联通",reason:"业务代码未分配，根据MT话单里的接入号和业务代码找不到对应的申报项",plan:"请核实手机终端是否处于正常状态，如正常可请用户致电联通客服确认号码的短信业务是否开通"},{code:"27",pass:"联通",reason:"手机不支持短消息",plan:"请核实手机终端是否处于正常状态，如正常可请用户致电联通客服确认号码的短信业务是否开通"},{code:"18",pass:"联通",reason:"用户未订购",plan:"请核实手机终端是否处于正常状态，如正常可请用户致电联通客服确认号码的短信业务是否开通"},{code:"44",pass:"联通",reason:"手机无短信功能",plan:"请核实手机终端是否处于正常状态，如正常可请用户致电联通客服确认号码的短信业务是否开通"},{code:"118",pass:"联通",reason:"手机无短信功能",plan:"请核实手机终端是否处于正常状态，如正常可请用户致电联通客服确认号码的短信业务是否开通"},{code:"52",pass:"联通",reason:"手机终端无短信接收功能",plan:"请核实手机终端是否处于正常状态，如正常可请用户致电联通客服确认号码的短信业务是否开通"},{code:"31",pass:"联通",reason:"非法设备",plan:"请核实手机终端是否处于正常状态，如正常可请用户致电联通客服确认号码的短信业务是否开通"},{code:"75",pass:"联通",reason:"号码限制",plan:"请核实手机终端是否处于正常状态，如正常可请用户致电联通客服确认号码的短信业务是否开通"},{code:"MN:0059",pass:"移动",reason:"用户当时不在服务区",plan:"请核实手机终端是否处于正常状态，主要为用户端忙碌导致短信下发失败"},{code:"TC:0001",pass:"移动",reason:"黑名单号码",plan:"请联系 sms heiper 沟通解决"},{code:"HD:19",pass:"移动",reason:"网关黑名单",plan:"请联系 sms heiper 解除黑名单"},{code:"TE:0014",pass:"三网",reason:"人工审核不通过",plan:"请联系 sms helper 沟通"},{code:"BWLIST _006",pass:"三网",reason:"网关黑名单",plan:"请联系 sms helper 沟通解决"},{code:"TD:19",pass:"三网",reason:"黑名单号码",plan:"请联系 sms helper 沟通解决"},{code:"TC:0007",pass:"移动",reason:"短信内容涉及敏感词",plan:"请联系 sms helper 沟通解决"},{code:"HIGRISK",pass:"移动",reason:"运营商黑名单",plan:"请联系 sms helper 解除黑名单"},{code:"MOBILE BLACK",pass:"电信/联通",reason:"号码为全局黑名单",plan:"请联系 sms helper 解除黑名单"},{code:"MX:0003",pass:"三网",reason:"单个手机号码当天下行条数超过上限",plan:"请联系 sms helper 解除限制"},{code:"TE:0003",pass:"三网",reason:"单个手机号码当天下行条数超过上限",plan:"请联系 sms helper 解除限制"},{code:"TD:0001",pass:"三网",reason:"网关黑名单",plan:"请联系 sms helper沟通解决"},{code:"BWLIST",pass:"移动",reason:"网关黑名单",plan:"请联系sms helper 解除黑名单"},{code:"MB:1026",pass:"移动",reason:"SMC 的相关运行参数（如 MO 速度、MT 速度、短消息数、短消息实体数）已经达到了 License 的最大限制",plan:"请稍后在尝试提交消息"},{code:"W-BLACK",pass:"联通",reason:"号码为全局黑名单",plan:"请提供具体号码给 sms helper 解除黑名单"},{code:"MA:0054",pass:"移动",reason:"运营商内部错误",plan:"请提供具体号码给 sms helper 下工单向运营商核实"},{code:"MB:1078",pass:"移动",reason:"运营商内部错误",plan:"请提供具体号码给 sms helper，下工单向运营商核实"},{code:"MK:0084",pass:"移动",reason:"HLR 返回收到未预期响应",plan:"请提供具体号码给 sms helper,下工单向运营商核实"},{code:"MA:0073",pass:"移动",plan:"请提供具体号码给 sms helper,下工单向运营商核实"},{code:"59",pass:"联通",reason:"运营商内部错误",plan:"请提供具体号码给 sms helper，下工单向运营商核实"},{code:"23",pass:"联通",reason:"运营商内部错误",plan:"请提供具体号码给 sms helper，下工单向运营商核实"},{code:"92",reason:"联通",plan:"请提供具体号码给 sms helper，下工单向运营商核实"},{code:"255",pass:"联通",plan:"请提供具体号码给 sms helper，下工单向运营商核实"},{code:"100",pass:"联通",plan:"请提供具体号码给 sms helper，下工单向运营商核实"},{code:"117",pass:"联通",plan:"请提供具体号码给 sms helper，下工单向运营商核实"},{code:"164",pass:"联通",plan:"请提供具体号码给 sms helper，下工单向运营商核实"},{code:"46",pass:"联通",plan:"请提供具体号码给 sms helper，下工单向运营商核实"},{code:"103",pass:"联通",plan:"请提供具体号码给 sms helper，下工单向运营商核实"},{code:"UNDELIV_999",pass:"电信",plan:"请提供具体号码给 sms helper，下工单向运营商核实"},{code:"UNDELIV_713",pass:"电信",plan:"请提供具体号码给 sms helper，下工单向运营商核实"},{code:"UNDELIV_615",pass:"电信",plan:"请提供具体号码给 sms helper，下工单向运营商核实"},{code:"UNDELIV_765",pass:"电信",plan:"请提供具体号码给 sms helper，下工单向运营商核实"},{code:"UNDELIV_899",pass:"电信",plan:"请提供具体号码给 sms helper，下工单向运营商核实"},{code:"EXPIRED_001",pass:"电信",plan:"请提供具体号码给 sms helper，下工单向运营商核实"},{code:"UNDELIV_612",pass:"电信",plan:"请提供具体号码给 sms helper，下工单向运营商核实"},{code:"UNDELIV_714",pass:"电信",plan:"请提供具体号码给 sms helper，下工单向运营商核实"},{code:"其他",pass:"电信/联通",reason:"运营商未公布原因",plan:"请提供具体号码给 sms helper，下工单向运营商核实"},{code:"1003",reason:"请求包体没有 sig 字段或 sig 为空",plan:"请遵守 API 接口说明规范"},{code:"1018",reason:"语音验证码格式错误",plan:"请遵守 API 接口说明规范"},{code:"MK:0005",pass:"移动",reason:"该短消息的被叫用户的开户数据的21号增值业务属性是否支持",plan:"如号码状态正常，可请用户自行拨打当地运营商客服电话确认手机端短信业务是否开启"},{code:"1036",reason:"单个模板变量字符数超过 12 个",plan:"如需调整限制，可联系 sms helper 解决"},{code:"MK:0017",pass:"移动",reason:"手机内存满",plan:"手机保存短消息的空间已满，需要清除保存的短消息，释放空间。"},{code:"EXPIRED_619",pass:"电信",reason:"短消息超过有效期",plan:"手机终端超时未响应"},{code:"EXPIRED_999",pass:"电信",reason:"短消息超过有效期",plan:"手机终端超时未响应"},{code:"EXPIRED_010",pass:"电信",reason:"短消息超过有效期",plan:"手机终端超时未响应手机终端超时未响应"},{code:"EXPIRED",pass:"移动",reason:"短消息超过有效期",plan:"手机终端长时间未响应，导致短信接收失败"},{code:"1029",reason:"营销短信发送时间限制",plan:"为避免骚扰用户，营销短信只允许在 8 点到 22 点发送"},{code:"DELIVRD",pass:"三网",reason:"用户短信接收成功",plan:"无"},{code:"UNDELIVRD",pass:"三网",reason:"空号、停机或关机",plan:"无"},{code:"TE:0002",pass:"三网",reason:"向网关提交短信失败",plan:"无"},{code:"TD:18",pass:"三网",reason:"未知运营商号码",plan:"无"},{code:"MI:0013",pass:"移动",reason:"停机或关机",plan:"无"},{code:"MI:0024",pass:"移动",reason:"停机或关机",plan:"无"},{code:"MI:0011",pass:"移动",reason:"空号、停机或关机",plan:"无"},{code:"MC:0151",pass:"移动",reason:"空号、停机或关机",plan:"无"},{code:"IC:0001",pass:"移动",reason:"停机或关机",plan:"无"},{code:"MI:0029",pass:"移动",reason:"停机或关机",plan:"无"},{code:"MI:0005",pass:"移动",reason:"空号、停机或关机",plan:"无"},{code:"MK:0004",pass:"移动",reason:"停机或关机",plan:"无"},{code:"MI:0000",pass:"移动",reason:"空号、停机或关机",plan:"无"},{code:"MI:0004",pass:"移动",reason:"空号、停机或关机",plan:"无"},{code:"MI:0020",pass:"移动",reason:"空号、停机或关机",plan:"无"},{code:"MI:0084",pass:"移动",reason:"空号、停机或关机",plan:"无"},{code:"MI:0017",pass:"移动",reason:"空号、停机或关机",plan:"无"},{code:"MN:0075",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"IC:0015",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"BEYONDN",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"MI:0055",pass:"移动",reason:"空号、停机或关机",plan:"无"},{code:"MI:0010",pass:"移动",reason:"号码已失效",plan:"无"},{code:"MC00151",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"IC:0055",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"MN00001",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"ID:0013",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"MC:0001",pass:"移动",reason:"未知错误",plan:"无"},{code:"MI:0081",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"MI:0054",pass:"移动",reason:"空号、停机或关机",plan:"无"},{code:"MK:0011",pass:"移动",reason:"停机或关机",plan:"无"},{code:"MN:0052",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"IA:0073",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"IA:0051",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"MN:0029",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"MI:0008",pass:"移动",reason:"移动网关的内部错误",plan:"无"},{code:"MI:0059",pass:"移动",reason:"空号、停机或关机",plan:"无"},{code:"MI:0045",pass:"移动",reason:"移动网关的内部错误",plan:"无"},{code:"MN:0055",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"NOROUTE",pass:"移动",reason:"查找路由失败",plan:"无"},{code:"MI:0036",pass:"移动",reason:"移动网关的内部错误",plan:"无"},{code:"MK:0020",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"MK:0022",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"MN:0053",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"DB:0505",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"ID:0070",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"MX:0002",pass:"移动",reason:"向上级通道提交短信失败",plan:"无"},{code:"MA:0051",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"IB:0008",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"MI00000",pass:"移动",reason:"消息在短信中心过期",plan:"无"},{code:"DB:0164",pass:"移动",reason:"运营商黑名单",plan:"无"},{code:"MK:0013",pass:"移动",reason:"空号",plan:"无"},{code:"DB:0144",pass:"移动",reason:"用户在全局黑名单中",plan:"无"},{code:"MI0020",pass:"移动",reason:"短信下发手机终端失败 ErrorinMS",plan:"无"},{code:"MI:0041",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"MI:0064",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"MI:0057",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"MI:0098",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"MK:0036",pass:"移动",reason:"来自MSC的未知错误",plan:"无"},{code:"MN:0019",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"MI:0030",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"MI:0023",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"MI:0002",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"MK:0055",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"MK:0066",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"IB:0009",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"MK:0006",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"MK:0053",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"MK:0023",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"MK:0045",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"MK:0041",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"MK:0063",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"MB:0088",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"MI00036",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"DB00144",pass:"移动",reason:"目的号码在全局黑名单被拦截",plan:"无"},{code:"MI:0089",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"MI:0063",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"DB:0107",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"IB:0255",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"MA:0022",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"IB:0013",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"MA:0001",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"MK:0065",pass:"移动",reason:"GIW 超时无应答",plan:"无"},{code:"MN:0009",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"UNKNOWN",pass:"移动",reason:"未知的短消息状态",plan:"无"},{code:"DB:0010",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"MK:0021",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"MI:0038",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"MI:0052",pass:"移动",reason:"漫游限制",plan:"无"},{code:"MK:0003",pass:"移动",reason:"非法用户。本次短消息发送过程中，用户鉴权未通过，可能的原因是 MSC 认为该手机的鉴权密码非法。在维测台中的错误值为 3。在 ETSI GSM 0902 协议中定义为 9。",plan:"无"},{code:"MK:0009",pass:"移动",reason:"用户不在服务区MWDSET",plan:"无"},{code:"MK:0051",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"MK:0068",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"DB:0106",pass:"移动",reason:"服务代码错误",plan:"无"},{code:"MI:0048",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"MK:0056",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"MK:0057",pass:"移动",reason:"运营商内部错误",plan:"无"},{code:"MK:0088",pass:"移动",reason:"vmsc 返回潜在的版本不匹配",plan:"无"},{code:"TUIDING",pass:"移动",reason:"运营商黑名单",plan:"无"},{code:"CA:0054",pass:"移动",reason:"移动内部错误",plan:"无"},{code:"MN:0041",pass:"移动",reason:"当前手机处于关机、无法接通等异常状态",plan:"无"},{code:"MK:0090",pass:"移动",reason:"当前手机状态处于停机、暂时无法接通等异常状态",plan:"无"},{code:"XL:169",pass:"移动",reason:"手机号码为空号或不存在",plan:"无"},{code:"MN:xxxx",pass:"移动",reason:"M 开头的移动错误代码是指 Mobile，大多是因为手机端问题导致。原因有：关机，停机，信号弱，不在服务区，无效号码等等。",plan:"无"},{code:"MI:xxxx",pass:"移动",reason:"M 开头的移动错误代码是指 Mobile，大多是因为手机端问题导致。原因有：关机，停机，信号弱，不在服务区，无效号码等等。",plan:"无"},{code:"TA:169",pass:"移动",reason:"空号",plan:"无"},{code:"11",pass:"联通",reason:"运营商内部错误",plan:"无"},{code:"17",pass:"联通",reason:"运营商内部错误",plan:"无"},{code:"22",pass:"联通",reason:"运营商内部错误",plan:"无"},{code:"90",pass:"联通",reason:"运营商内部错误",plan:"无"},{code:"-74",pass:"联通",reason:"运营商内部错误",plan:"无"},{code:"2",pass:"联通",reason:"运营商内部错误",plan:"无"},{code:"104",pass:"联通",reason:"运营商内部错误",plan:"无"},{code:"86",pass:"联通",reason:"号码不在服务区",plan:"无"},{code:"50",pass:"联通",reason:"停机",plan:"无"},{code:"8",pass:"联通",reason:"信息长度错",plan:"无"},{code:"57",pass:"联通",reason:"运营商内部错误",plan:"无"},{code:"3",pass:"联通",reason:"运营商内部错误",plan:"无"},{code:"14",pass:"联通",reason:"运营商内部错误",plan:"无"},{code:"69",pass:"联通",reason:"黑名单用户",plan:"无"},{code:"106",pass:"联通",reason:"非法费用，鉴权失败",plan:"无"},{code:"-1",pass:"联通",reason:"运营商内部错误",plan:"无"},{code:"19",pass:"联通",reason:"用户未订购",plan:"无"},{code:"148",pass:"联通",reason:"运营商内部错误",plan:"无"},{code:"48",pass:"联通",reason:"运营商内部错误",plan:"无"},{code:"63",pass:"联通",reason:"运营商内部错误",plan:"无"},{code:"73",pass:"联通",reason:"运营商内部错误",plan:"无"},{code:"32",pass:"联通",reason:"运营商内部错误",plan:"无"},{code:"40",pass:"联通",reason:"运营商内部错误",plan:"无"},{code:"110",pass:"联通",reason:"运营商内部错误",plan:"无"},{code:"116",pass:"联通",reason:"运营商内部错误",plan:"无"},{code:"21",pass:"联通",reason:"运营商内部错误",plan:"无"},{code:"219",pass:"联通",reason:"用户手机终端处于关机、停机、暂时无法接听等不正常状态导致手机无法接收到短信",plan:"无"},{code:"182",pass:"联通",reason:"用户手机终端已暂停服务",plan:"无"},{code:"124",pass:"联通",reason:"用户手机终端处于关机、通话被限制、暂停服务等异常状态",plan:"无"},{code:"101",pass:"联通",reason:"手机号码为空号",plan:"无"},{code:"105",pass:"联通",reason:"当前手机状态处于停机、暂停服务、呼入被限制等异常情况",plan:"无"},{code:"213",pass:"联通",reason:"当前手机状态处于停机、暂停服务、呼入被限制等异常情况",plan:"无"},{code:"72",pass:"联通",reason:"145号段空号或者不存在",plan:"无"},{code:"LT:0002",pass:"联通",reason:"因信号原因导致联通失败。若批量失败则有可能是内容敏感词导致，需和运营商确认",plan:"无"},{code:"UNDELIV_870",pass:"电信",reason:"运营商内部错误",plan:"无"},{code:"EXPIRED_612",pass:"电信",reason:"运营商内部错误",plan:"无"},{code:"EXPIRED_614",pass:"电信",reason:"运营商内部错误",plan:"无"},{code:"EXPIRED_618",pass:"电信",reason:"运营商内部错误",plan:"无"},{code:"EXPIRED_613",pass:"电信",reason:"运营商内部错误",plan:"无"},{code:"EXPIRED_617",pass:"电信",reason:"运营商内部错误",plan:"无"},{code:"UNDELIV_701",pass:"电信",reason:"空号、停机或关机",plan:"无"},{code:"UNDELIV_802",pass:"电信",reason:"空号、停机或关机",plan:"无"},{code:"UNDELIV_801",pass:"电信",reason:"空号、停机或关机",plan:"无"},{code:"UNDELIV",pass:"电信/联通",reason:"用户因为状态不正确如处于停机、挂起等状态而导致用户无法接收到短信",plan:"无"},{code:"DB:0141",pass:"移动",reason:"曾多次投诉移动或者工信部的黑名单",plan:"无法解除"},{code:"MB:1077",pass:"移动",reason:"黑名单，用户在移动公司有恶意投诉记录",plan:"需要用户自己与移动运营商10086沟通解除"},{code:"1002",reason:"短信/语音内容中含有敏感词",plan:"应答包会返回该敏感词，请去掉该敏感词后重新发送"},{code:"MX:0012",pass:"三网",reason:"目标号码在客户退订黑名单中",plan:"用户回复上行退订信息后加黑的，请联系 sms helper 解除黑名单"},{code:"1019",reason:"sdkappid 不存在"},{code:"1030",reason:"不支持该请求"},{code:"1032",reason:"个人用户没有发营销短信的权限"},{code:"P00000",reason:"交易请求成功"},{code:"P00001",reason:"非法用户"},{code:"P00002",reason:"参数错误"},{code:"P00003",reason:"鉴权失败"},{code:"P00004",reason:"系统异常"},{code:"P00005",reason:"账户余额不足"},{code:"P00009",reason:"其他未知误"},{code:"P00010",reason:"手机号码过长"},{code:"P00011",reason:"手机号码非法"},{code:"TD:0004",pass:"三网",reason:"疑似钓鱼，请核实"}],p={name:"message-code",props:{show:{type:Boolean,default:!1}},data:function(){return{errorCodeList:c,keyWord:""}},methods:{close:function(){this.$emit("update:show",!1)},search:function(){var e=this;this.keyWord?this.errorCodeList=c.filter(function(t){return t.code.indexOf(e.keyWord)>-1}):this.errorCodeList=c}}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"短信错误码查询",visible:e.show,width:"80%","before-close":e.close},on:{"update:visible":function(t){e.show=t}}},[a("div",{staticClass:"pb22"},[a("el-input",{staticClass:"w300",attrs:{placeholder:"请输入错误码",clearable:""},on:{change:e.search},model:{value:e.keyWord,callback:function(t){e.keyWord=t},expression:"keyWord"}},[a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})])],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.errorCodeList,height:"400"}},[a("el-table-column",{attrs:{prop:"code",label:"错误码",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"pass",label:"通道",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"reason","min-width":"200",label:"原因"}}),e._v(" "),a("el-table-column",{attrs:{prop:"plan","min-width":"200",label:"解决方案"}})],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.close}},[e._v("关 闭")])],1)],1)},staticRenderFns:[]},u=a("VU/8")(p,d,!1,null,null,null).exports,m={mixins:[a("Q+a4").a],data:function(){return{formatDateTimeByType:l.d,info:{searchParams:"",memberType:0},memberList:[],messageList:[],messageLoading:!1,messageHeader:[{label:"手机号码",prop:"telephone",width:"120",align:"left"},{label:"发送状态",prop:"sendStatus",width:"80",align:"left",formatter:function(e){return 0===e.sendStatus?"成功":1===e.sendStatus?"未发送":"失败"}},{label:"回执状态",prop:"backStatus",width:"80",align:"left",formatter:function(e){return 0===e.backStatus&&null===e.backTime?"--":e.backStatus?"接收成功":"接收失败"}}],listParams:{sendStatus:"",smsId:this.$route.params.id,memberName:"",currentPage:1,pageSize:20},total:0,sendStatusOptions:[{value:"",label:"所有状态"},{value:0,label:"成功"},{value:1,label:"未发送"},{value:2,label:"失败"}],errorCodeShow:!1,sceneValue:"member",useId:"",hasSearchData:"",toggleTag:!0,getSaveData:"",defaltSelected:[],headerList:["effectiveStatus"],projectName:"marketing",dialogVisible:!1,excelUrl:"",params:{}}},created:function(){this.$store.commit("mutations_breadcrumb",[{name:"营销管理",path:""},{name:"短信营销",path:"/message"},{name:"短信群发",path:"/message/record"},{name:"短信群发详情",path:""}]),this.LoadMessageDetail(this.$route.params.id),this.LoadMessageDetailList()},computed:{asideShow:function(){return this.$store.state.marketing.asideShow}},components:{errorCodeDialog:u},methods:{LoadMessageDetail:function(e){var t=this;return o()(n.a.mark(function a(){var s,r;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return s={smsId:e},a.next=3,Object(i.b)(s);case 3:r=a.sent,console.log(r),t.useId=r.result.searchId||"",t.info=r.result.smsDTO||{},t.info.memberType=r.result.smsDTO.memberType,0===t.info.memberType?(t.info.searchParams=r.result.smsDTO.searchParams,t.hasSearchData=r.result.smsDTO.searchParams):1===t.info.memberType?t.$nextTick(function(e){t.memberList=r.result.memberList||[]}):2===t.info.memberType&&(t.defaltSelected=r.result.tagGroupList||[]);case 9:case"end":return a.stop()}},a,t)}))()},LoadMessageDetailList:function(){var e=this;return o()(n.a.mark(function t(){var a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.messageLoading=!0,t.next=3,Object(i.c)(e.listParams);case 3:a=t.sent,e.messageList=a.result.result||[],e.total=a.result.totalCount,e.messageLoading=!1;case 7:case"end":return t.stop()}},t,e)}))()},handleSizeChange:function(e){this.listParams.pageSize=e,this.LoadMessageDetailList()},handleCurrentChange:function(e){this.listParams.currentPage=e,this.LoadMessageDetailList()},exportExcel:function(){this.dialogVisible=!0,this.excelUrl=i.i,this.params={smsId:this.listParams.smsId,sendStatus:this.listParams.sendStatus,memberName:this.listParams.memberName,requestProject:"marketing"}},getConfirmData:function(e){this.info.openIds=e},getData:function(){this.$refs.peopleFilter.confirmSet()},findFilter:function(e){console.log(e),this.info.searchParams=e},cancelFilter:function(){this.$refs.peopleFilter.cancelSet()},getBackData:function(e){this.getSaveData=e},editShow:function(){this.toggleTag=!0,this.saveTag=!1},editHide:function(){this.toggleTag=!1,this.saveTag=!0},hideBtn:function(){this.toggleTag=!1,this.saveTag=!1},handleDataTransferred:function(e){},handleDataLeft:function(e,t){console.log(e,t)}}},f={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"form",staticClass:"dm-form__wrap",attrs:{model:e.info,"label-width":"90px"}},[a("h3",{staticClass:"dm-title__label"},[e._v("基本信息")]),e._v(" "),a("el-row",{staticClass:"message-detail__label",attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("span",{staticClass:"primary-font-color"},[e._v("发送时间：")]),e._v(" "),a("span",{staticClass:"regular-font-color"},[e._v(e._s(e.formatDateTimeByType(e.info.sendTime,"yyyy-MM-dd-HH-mm-ss")))])]),e._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"primary-font-color"},[e._v("发送人数：")]),e._v(" "),a("span",{staticClass:"regular-font-color"},[e._v(e._s(e.info.sendCount))])]),e._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"primary-font-color"},[e._v("发送条数：")]),e._v(" "),a("span",{staticClass:"regular-font-color"},[e._v(e._s(e.info.countNum))])]),e._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"primary-font-color"},[e._v("模板名称：")]),e._v(" "),a("span",{staticClass:"regular-font-color"},[e._v(e._s(e.info.templateName)+"(ID:"+e._s(e.info.templateId)+")")])]),e._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"primary-font-color"},[e._v("模板类型：")]),e._v(" "),a("span",{staticClass:"regular-font-color"},[e._v(e._s(0===e.info.sendType?"普通短信":"营销短信"))])]),e._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"primary-font-color"},[e._v("营销场景：")]),e._v(" "),a("span",{staticClass:"regular-font-color"},[e._v(e._s(e.info.sceneSettingName))])]),e._v(" "),a("el-col",{attrs:{span:24}},[a("span",{staticClass:"primary-font-color"},[e._v("短信模板：")]),e._v(" "),a("span",{staticClass:"regular-font-color",staticStyle:{"max-width":"100%",overflow:"auto","line-height":"2"}},[e._v(e._s(e.info.templateContent))])])],1)],1),e._v(" "),a("section",{staticClass:"dm-form__wrap"},[a("h3",{staticClass:"dm-title__label"},[e._v("会员设置")]),e._v(" "),a("div",{staticClass:"pt10 pb20"},[a("span",{staticClass:"dm-input_label"},[e._v("选择会员：")]),e._v(" "),a("el-radio",{attrs:{label:0,disabled:""},model:{value:e.info.memberType,callback:function(t){e.$set(e.info,"memberType",t)},expression:"info.memberType"}},[e._v("会员筛选")]),e._v(" "),a("el-radio",{attrs:{label:1,disabled:""},model:{value:e.info.memberType,callback:function(t){e.$set(e.info,"memberType",t)},expression:"info.memberType"}},[e._v("指定会员")]),e._v(" "),a("el-radio",{attrs:{label:2,disabled:""},model:{value:e.info.memberType,callback:function(t){e.$set(e.info,"memberType",t)},expression:"info.memberType"}},[e._v("会员分组")])],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.info.memberType,expression:"!info.memberType"}]},[a("vue-gic-people",{ref:"peopleFilter",attrs:{projectName:e.projectName,isAdd:!1,useId:e.useId,hasSearchData:e.hasSearchData,sceneValue:e.sceneValue},on:{findFilter:e.findFilter,getBackData:e.getBackData,editHide:e.editHide,editShow:e.editShow,hideBtn:e.hideBtn}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.toggleTag,expression:"toggleTag"}],staticClass:"gic-people--button"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.getData}},[e._v("确 定")]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:e.cancelFilter}},[e._v("取 消")])],1)],1),e._v(" "),1===e.info.memberType?a("vue-gic-confirm-people",{attrs:{idType:"memberId",onlyWxMember:0,isMessage:!0,list:e.memberList,disabled:!0},on:{"get-data":e.getConfirmData}}):e._e(),e._v(" "),2===e.info.memberType?a("vue-gic-member-group",{attrs:{defaltSelected:e.defaltSelected,height:500,projectName:e.projectName,headerList:e.headerList},on:{handleDataTransferred:e.handleDataTransferred,handleDataLeft:e.handleDataLeft}}):e._e()],1),e._v(" "),a("section",{staticClass:"dm-form__wrap"},[a("div",{staticClass:"clearfix pb22"},[a("el-select",{staticClass:"dm-select",attrs:{placeholder:"选择发送状态"},on:{change:e.LoadMessageDetailList},model:{value:e.listParams.sendStatus,callback:function(t){e.$set(e.listParams,"sendStatus",t)},expression:"listParams.sendStatus"}},e._l(e.sendStatusOptions,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),a("el-input",{staticClass:"w200",attrs:{placeholder:"会员昵称/手机号/卡号",clearable:""},on:{change:e.LoadMessageDetailList},model:{value:e.listParams.memberName,callback:function(t){e.$set(e.listParams,"memberName",t)},expression:"listParams.memberName"}},[a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})]),e._v(" "),a("el-button",{staticClass:"fr",attrs:{icon:"iconfont icon-icon_yunxiazai fz14",type:"primary"},on:{click:e.exportExcel}},[e._v(" 下载Excel")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.messageLoading,expression:"messageLoading"}],staticStyle:{width:"100%"},attrs:{tooltipEffect:"light",data:e.messageList}},[a("el-table-column",{attrs:{"min-width":"150",align:"left",label:"会员信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"sms-table_info"},[a("img",{staticClass:"table__avatar--40 vertical-middle",attrs:{src:e.filterAvatar(t.row.thirdImgUrl),alt:"",srcset:""}}),e._v(" "),a("div",{staticClass:"inline-block vertical-middle"},[a("p",{staticClass:"table-name--ellipsis"},[e._v(e._s(t.row.memberName))]),e._v(" "),a("p",{staticClass:"fz13 gray"},[e._v(e._s(t.row.nickname))])])])]}}])}),e._v(" "),e._l(e.messageHeader,function(e,t){return a("el-table-column",{key:t,attrs:{"show-overflow-tooltip":e.tooltip,width:e.width,"min-width":e.minWidth,align:e.align,prop:e.prop,label:e.label,formatter:e.formatter}})}),e._v(" "),a("el-table-column",{attrs:{"min-width":80,align:"left",label:"错误码",prop:"errorMsg"},scopedSlots:e._u([{key:"default",fn:function(t){return[-1==t.row.errorMsg?a("span",[e._v("--")]):"--"==t.row.backStatus&&2!==t.row.sendStatus?a("span",[e._v("--")]):a("el-button",{attrs:{type:"text"},on:{click:function(t){e.errorCodeShow=!0}}},[e._v(e._s(t.row.errorMsg))])]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":100,align:"left",label:"上报时间",prop:"backTime"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",{staticClass:"cell-time"},[e._v("\n            "+e._s(e.formatDateTimeByType(t.row.backTime,"yyyy-MM-dd-HH-mm-ss",!0).y)),a("br"),a("span",[e._v(e._s(e.formatDateTimeByType(t.row.backTime,"yyyy-MM-dd-HH-mm-ss",!0).h))])])]}}])}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!1,"min-width":150,align:"left",label:"短信内容",prop:"remark"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.remark.length>10?a("el-popover",{staticClass:"item",attrs:{trigger:"hover",width:"300",content:t.row.remark,placement:"top-start"}},[a("span",{staticClass:"ellipsis",attrs:{slot:"reference"},slot:"reference"},[e._v(e._s(t.row.remark))])]):a("span",[e._v(e._s(t.row.remark))])]}}])})],2),e._v(" "),a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.messageList.length,expression:"messageList.length"}],staticClass:"dm-pagination",attrs:{background:"","current-page":e.listParams.currentPage,"page-sizes":[20,40,60,80],"page-size":e.listParams.pageSize,layout:"total, sizes, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("error-code-dialog",{attrs:{show:e.errorCodeShow},on:{"update:show":function(t){e.errorCodeShow=t}}}),e._v(" "),a("vue-gic-export-excel",{attrs:{dialogVisible:e.dialogVisible,dataArr:e.messageList,type:2,excelUrl:e.excelUrl,params:e.params,projectName:e.projectName},on:{"update:dialogVisible":function(t){e.dialogVisible=t},"update:dialog-visible":function(t){e.dialogVisible=t}}})],1)},staticRenderFns:[]};var h=a("VU/8")(m,f,!1,function(e){a("wmo0")},"data-v-26ed0f74",null);t.default=h.exports},phH1:function(e,t,a){"use strict";a.d(t,"d",function(){return r}),a.d(t,"b",function(){return o}),a.d(t,"c",function(){return i}),a.d(t,"a",function(){return l}),a.d(t,"f",function(){return c}),a.d(t,"l",function(){return p}),a.d(t,"e",function(){return d}),a.d(t,"j",function(){return u}),a.d(t,"h",function(){return m}),a.d(t,"i",function(){return f}),a.d(t,"k",function(){return h}),a.d(t,"g",function(){return g});var s=a("6Hqf"),n="api-marketing/",r=function(e){return Object(s.b)(n+"page-marketing-message",e)},o=function(e){return Object(s.b)(n+"get-market-message-detail",e)},i=function(e){return Object(s.b)(n+"market-message-detail-send-list",e)},l=function(e){return Object(s.b)(n+"page-message-template",e)},c=function(e){return Object(s.b)(n+"load-message-templateList",e)},p=function(e){return Object(s.b)(n+"save-update-message-template",e)},d=function(e){return Object(s.b)(n+"get-message-templateInfo",e)},u=function(e){return Object(s.b)(n+"stop-message-TimedTask",e)},m=function(e){return Object(s.b)(n+"delete-message-template",e)},f=a("2uFj").a.api+n+"export-sms-sendlog-excel",h=function(e){return Object(s.b)(n+"save-marketing-message",e)},g=function(e){return Object(s.b)(n+"check-message-send-count",e)}},t03Z:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("Xxa5"),n=a.n(s),r=a("exGp"),o=a.n(r),i=a("phH1"),l=a("6bSu"),c={props:{pbSize:{type:String,default:"pb22"},activeId:String},data:function(){return{listParams:{search:"",currentPage:1,pageSize:20},total:0,smsTempList:[],activeSmsId:""}},watch:{activeId:function(e){this.activeSmsId=e}},created:function(){this.LoadTempList()},methods:{rowClick:function(e){this.activeSmsId=e.smsTemplateId,this.$emit("update:activeId",e.smsTemplateId),this.$emit("emitSmsItemInfo",e)},handleSizeChange:function(e){this.listParams.pageSize=e,this.LoadTempList()},handleCurrentChange:function(e){this.listParams.currentPage=e,this.LoadTempList()},LoadTempList:function(){var e=this;return o()(n.a.mark(function t(){var a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,Object(i.f)(e.listParams);case 3:a=t.sent,e.smsTempList=a.result.result||[],e.total=a.result.totalCount,e.loading=!1;case 7:case"end":return t.stop()}},t,e)}))()},reset:function(){this.listParams.search="",this.LoadTempList()}}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"sms-lib"},[a("div",{class:e.pbSize},[a("span",{staticClass:"pr10"},[e._v("选择短信模板(共"+e._s(e.total)+"条)")]),a("el-input",{staticClass:"w200",attrs:{clearable:"",placeholder:"请输入标题/作者"},on:{change:e.LoadTempList},model:{value:e.listParams.search,callback:function(t){e.$set(e.listParams,"search",t)},expression:"listParams.search"}},[a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{tooltipEffect:"light",data:e.smsTempList},on:{"row-click":e.rowClick}},[a("el-table-column",{attrs:{"show-overflow-tooltip":!1,width:60,align:"center",prop:"smsTemplateId"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"sms-record_left label-hidden"},[a("el-radio",{staticClass:"pr10",attrs:{label:t.row.smsTemplateId},model:{value:e.activeSmsId,callback:function(t){e.activeSmsId=t},expression:"activeSmsId"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!1,width:200,"min-width":200,align:"left",prop:"title",label:"模板名称"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!1,width:200,"min-width":200,align:"left",prop:"content",label:"模板类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",{staticClass:"gray"},[e._v(e._s(0===t.row.type?"普通短信":1===t.row.type?"营销短信":"验证码"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!1,"min-width":200,align:"left",prop:"content",label:"模板内容"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.content))])]}}])})],1),e._v(" "),a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.smsTempList.length,expression:"smsTempList.length"}],staticClass:"dm-pagination",attrs:{background:"","current-page":e.listParams.currentPage,"page-sizes":[20,40,60,80],"page-size":e.listParams.pageSize,layout:"total, sizes, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},staticRenderFns:[]},d=a("VU/8")(c,p,!1,null,null,null).exports,u=a("0xDb"),m={name:"add-record",data:function(){return{sceneSettingIdOptions:[],loading:!1,sendTypeOptions:[{value:0,label:"立即发送"},{value:1,label:"选择时间发送"}],smsTempList:[],pickerOptions:{shortcuts:[{text:"今天",onClick:function(e){e.$emit("pick",new Date)}},{text:"昨天",onClick:function(e){var t=new Date;t.setTime(t.getTime()-864e5),e.$emit("pick",t)}},{text:"一周前",onClick:function(e){var t=new Date;t.setTime(t.getTime()-6048e5),e.$emit("pick",t)}}],disabledDate:function(e){return Date.now()>=e.getTime()+864e5}},sceneValue:"member",useId:"",hasSearchData:"",toggleTag:!0,getSaveData:"",info:{memberType:0,sceneSettingId:"",sendTime:"",sendType:0,memberSearchDTO:"",openIds:"",smsTemplateId:""},smsType:0,defaltSelected:[],projectName:"marketing",headerList:["isRealTime","latestUpdateTime","updateType","effectiveStatus","effectiveDate"],effectiveStatus:1}},components:{smsTemp:d},computed:{asideShow:function(){return this.$store.state.marketing.asideShow}},created:function(){this.sceneSettingList(),this.$store.commit("mutations_breadcrumb",[{name:"营销管理",path:""},{name:"短信营销",path:""},{name:"短信群发",path:"/message/record"},{name:"新建群发",path:""}])},methods:{sceneSettingList:function(){var e=this;return o()(n.a.mark(function t(){var a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.w)();case 2:a=t.sent,e.sceneSettingIdOptions=a.result||[];case 4:case"end":return t.stop()}},t,e)}))()},onSmsItemInfo:function(e){this.smsType=e.type,console.log(e)},checkMessageSendCount:function(){var e=this;return o()(n.a.mark(function t(){var a,s;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e.info.memberType&&2!==e.info.memberType){t.next=8;break}return a={memberSearchDTO:e.info.memberSearchDTO,marketingType:0,groupType:0===e.info.memberType?0:1},t.next=4,Object(i.g)(a);case 4:0===(s=t.sent).errorCode&&e.$confirm('<div>\n              <div class="inline-block w300 vertical-middle ">\n                <p>短信按67字/条分割成多条并按条计费</p>\n                <p>合计发送'+s.result+"人</p>\n                <p>是否发送?</p>\n              </div>\n            </div>","提示",{dangerouslyUseHTMLString:!0,confirmButtonText:"确定",cancelBUttonText:"取消",type:"warning"}).then(function(){e.saveSendSmsService()}).catch(function(){e.$tips({type:"info",message:"已取消发送"})}),t.next=9;break;case 8:e.saveSendSmsService();case 9:case"end":return t.stop()}},t,e)}))()},saveSendSmsService:function(){var e=this;this.$confirm("是否发送短信?","提示",{confirmButtonText:"确定",cancelBUttonText:"取消",type:"warning"}).then(function(){var t={sceneSettingId:e.info.sceneSettingId,memberType:e.info.memberType,smsTemplateId:e.info.smsTemplateId,sendType:e.info.sendType,memberSearchDTO:e.info.memberSearchDTO,searchJson:e.getSaveData};console.log(t),1===e.info.memberType&&(t.openIds=e.info.openIds),e.info.sendType&&(t.sendTime=Object(u.d)(e.info.sendTime,"yyyy-MM-dd-HH-mm-ss")),Object(i.k)(t).then(function(t){0===t.errorCode?(e.$router.go(-1),e.$tips({type:"success",message:"提交成功"})):e.$tips({type:"error",message:"提交失败"})}).catch(function(t){e.$tips({type:"error",message:"提交失败"})})}).catch(function(){e.$tips({type:"info",message:"已取消提交"})})},sendSms:function(){var e=this;return o()(n.a.mark(function t(){var a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.checkAccountState()){t.next=2;break}return t.abrupt("return");case 2:if(a=null,a=e.info.sendType?new Date(e.info.sendTime).getHours():(new Date).getHours(),1!==e.smsType||!(a>=22||a<8)){t.next=7;break}return e.$alert('<div>\n          <i class="el-icon-warning warning-color fz30 vertical-middle mr20"></i>\n          <p class="inline-block vertical-middle w300">短信运营商限制：为避免骚扰用户，营销短信只允许在8点到22点发送</p>\n          </div>',"提示",{dangerouslyUseHTMLString:!0,showCancelButton:!0,showConfirmButton:!1,cancelButtonText:"关闭"}),t.abrupt("return");case 7:if(e.info.memberType||!e.toggleTag||e.getSaveData){t.next=10;break}return e.$tips({type:"warning",message:"人群筛选未保存条件"}),t.abrupt("return");case 10:if(e.info.smsTemplateId){t.next=13;break}return e.$tips({type:"warning",message:"请选择短信模板"}),t.abrupt("return");case 13:if(1!==e.info.memberType||e.info.openIds){t.next=16;break}return e.$tips({type:"warning",message:"指定会员不能为空"}),t.abrupt("return");case 16:if(2!==e.info.memberType||e.info.memberSearchDTO){t.next=19;break}return e.$tips({type:"warning",message:"会员分组不能为空"}),t.abrupt("return");case 19:e.checkMessageSendCount();case 20:case"end":return t.stop()}},t,e)}))()},checkAccountState:function(){var e=this;if(3==localStorage.getItem("accountStatus"))return this.$alert('<div>\n          <i class="el-icon-warning warning-color fz30 vertical-middle mr20"></i>\n          <p class="inline-block vertical-middle w300">当前账户已欠费，无法正常使用短信服务。为了保障您的权益，请及时充值。</p>\n          </div>',"提示",{dangerouslyUseHTMLString:!0,confirmButtonText:"前往充值中心",customClass:"message-box--btn-center"}).then(function(t){"confirm"===t&&e.$router.push("/recharge/do")}),!0},getConfirmData:function(e){this.info.openIds=e},getData:function(){this.$refs.peopleFilter.confirmSet()},findFilter:function(e){console.log(e),this.info.memberSearchDTO=e},cancelFilter:function(){this.$refs.peopleFilter.cancelSet()},getBackData:function(e){this.getSaveData=e},editShow:function(){this.toggleTag=!0,this.saveTag=!1},editHide:function(){this.toggleTag=!1,this.saveTag=!0},hideBtn:function(){this.toggleTag=!1,this.saveTag=!1},handleDataTransferred:function(e){2===this.info.memberType&&(this.info.memberSearchDTO=e.map(function(e){return e.memberTagGroupId}).filter(function(e){return e}).join(","))},handleDataLeft:function(e,t){console.log(e,t)}}},f={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("section",{staticClass:"dm-form__wrap"},[a("h3",{staticClass:"dm-title__label"},[e._v("场景设置")]),e._v(" "),a("el-form-item",{attrs:{label:"营销场景"}},[a("el-select",{staticClass:"w250",attrs:{placeholder:"选择营销场景"},model:{value:e.info.sceneSettingId,callback:function(t){e.$set(e.info,"sceneSettingId",t)},expression:"info.sceneSettingId"}},e._l(e.sceneSettingIdOptions,function(e){return a("el-option",{key:e.sceneSettingId,attrs:{label:e.sceneName,value:e.sceneSettingId}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"发送时间"}},[a("el-select",{staticClass:"w250",model:{value:e.info.sendType,callback:function(t){e.$set(e.info,"sendType",t)},expression:"info.sendType"}},e._l(e.sendTypeOptions,function(e,t){return a("el-option",{key:t,attrs:{value:e.value,label:e.label}})}),1),e._v(" "),e.info.sendType?a("el-date-picker",{staticClass:"w250",attrs:{type:"datetime",placeholder:"选择日期时间",align:"right","picker-options":e.pickerOptions},model:{value:e.info.sendTime,callback:function(t){e.$set(e.info,"sendTime",t)},expression:"info.sendTime"}}):e._e()],1)],1),e._v(" "),a("section",{staticClass:"dm-form__wrap"},[a("h3",{staticClass:"dm-title__label"},[e._v("会员设置")]),e._v(" "),a("div",{staticClass:"pt10 pb20"},[a("span",{staticClass:"dm-input_label"},[e._v("选择会员：")]),e._v(" "),a("el-radio",{attrs:{label:0},model:{value:e.info.memberType,callback:function(t){e.$set(e.info,"memberType",t)},expression:"info.memberType"}},[e._v("会员筛选")]),e._v(" "),a("el-radio",{attrs:{label:1},model:{value:e.info.memberType,callback:function(t){e.$set(e.info,"memberType",t)},expression:"info.memberType"}},[e._v("指定会员")]),e._v(" "),a("el-radio",{attrs:{label:2},model:{value:e.info.memberType,callback:function(t){e.$set(e.info,"memberType",t)},expression:"info.memberType"}},[e._v("会员分组")])],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0===e.info.memberType,expression:"info.memberType === 0"}]},[a("vue-gic-people",{ref:"peopleFilter",attrs:{projectName:e.projectName,isAdd:!0,triggerReset:!0,useId:e.useId,hasSearchData:e.hasSearchData,sceneValue:e.sceneValue},on:{findFilter:e.findFilter,getBackData:e.getBackData,editHide:e.editHide,editShow:e.editShow,hideBtn:e.hideBtn}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.toggleTag,expression:"toggleTag"}],staticClass:"gic-people--button"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.getData}},[e._v("确 定")]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:e.cancelFilter}},[e._v("取 消")])],1)],1),e._v(" "),1===e.info.memberType?a("vue-gic-confirm-people",{attrs:{idType:"memberId",sendType:"message"},on:{"get-data":e.getConfirmData}}):e._e(),e._v(" "),2===e.info.memberType?a("vue-gic-member-group",{attrs:{defaltSelected:e.defaltSelected,height:500,projectName:e.projectName,headerList:e.headerList},on:{handleDataTransferred:e.handleDataTransferred,handleDataLeft:e.handleDataLeft}}):e._e()],1),e._v(" "),a("section",{staticClass:"dm-form__wrap"},[a("h3",{staticClass:"dm-title__label"},[e._v("\n      短信模板设置\n      "),a("div",{staticClass:"dm-title__label--tips"},[a("i",{staticClass:"el-icon-info pr8 blue"}),e._v("短信运营商限制：为避免骚扰用户，营销短信只允许在8点到22点发送")])]),e._v(" "),a("div",{staticClass:"border-radius2",staticStyle:{padding:"15px"}},[a("sms-temp",{attrs:{pbSize:"pb15",activeId:e.info.smsTemplateId},on:{"update:activeId":function(t){return e.$set(e.info,"smsTemplateId",t)},"update:active-id":function(t){return e.$set(e.info,"smsTemplateId",t)},emitSmsItemInfo:e.onSmsItemInfo}})],1)]),e._v(" "),a("div",{staticClass:"btn-wrap_fixed",class:{on:e.asideShow}},[a("el-button",{attrs:{type:"primary"},on:{click:e.sendSms}},[e._v("提 交")]),e._v(" "),a("el-button",{on:{click:function(t){return e.$router.go(-1)}}},[e._v("返 回")])],1)])},staticRenderFns:[]};var h=a("VU/8")(m,f,!1,function(e){a("Nxyd")},"data-v-800f266a",null);t.default=h.exports},vKXu:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("Xxa5"),n=a.n(s),r=a("exGp"),o=a.n(r),i=a("0xDb"),l=a("phH1"),c={name:"sms-lib",data:function(){return{formatDateTimeByType:i.d,loading:!1,smsTempList:[],libTypeOptions:[{value:"",label:"全部"},{value:0,label:"普通短信模板"},{value:1,label:"营销短信模板"},{value:2,label:"验证码模板"}],listParams:{type:"",content:"",currentPage:1,pageSize:20,startTime:"",endTime:""},total:0,allUsableCount:0,usedCount:0,dateTime:[]}},created:function(){this.$store.commit("mutations_breadcrumb",[{name:"营销管理",path:""},{name:"短信营销",path:""},{name:"模板库",path:""}]),this.LoadLibList()},methods:{search:function(){this.listParams.currentPage=1,this.LoadLibList()},handleSizeChange:function(e){this.listParams.pageSize=e,this.LoadLibList()},handleCurrentChange:function(e){this.listParams.currentPage=e,this.LoadLibList()},LoadLibList:function(){var e=this;return o()(n.a.mark(function t(){var a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,e.dateTime?(e.listParams.startTime=Object(i.d)(e.dateTime[0],"yyyy-MM-dd"),e.listParams.endTime=Object(i.d)(e.dateTime[1],"yyyy-MM-dd")):e.listParams.startTime=e.listParams.endTime="",t.prev=2,t.next=5,Object(l.a)(e.listParams);case 5:0===(a=t.sent).errorCode&&a.result?(e.smsTempList=a.result.result||[],e.allUsableCount=a.result.params.allUsableCount||0,e.usedCount=a.result.params.usedCount||0,e.total=a.result.totalCount):(e.smsTempList=[],e.total=0),e.loading=!1,t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),e.loading=!1;case 13:case"end":return t.stop()}},t,e,[[2,10]])}))()},addTemp:function(){this.usedCount>=this.allUsableCount?this.$alert('<div>\n        <i class="el-icon-warning warning-color fz30 vertical-middle mr20"></i>\n        <p class="inline-block vertical-middle w300">已超过可用短信模板数量，请删除不用短信模板释放数量或直接与GIC运营联系。</p>\n        </div>',"提示",{dangerouslyUseHTMLString:!0,showCancelButton:!0,showConfirmButton:!1,cancelButtonText:"关 闭"}):this.$router.push("/message/temp/add")},delData:function(e){var t=this;Object(l.h)({templateId:e.templateId,smsTemplateId:e.smsTemplateId}).then(function(e){0===e.errorCode?(t.$tips({type:"success",message:"删除成功!"}),t.LoadLibList()):t.$tips({type:"error",message:"删除失败!"})})}}},p={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"dm-wrap"},[s("div",{staticClass:"pb10"},[s("el-select",{staticClass:"dm-select",attrs:{placeholder:"选择营销场景"},on:{change:e.search},model:{value:e.listParams.type,callback:function(t){e.$set(e.listParams,"type",t)},expression:"listParams.type"}},e._l(e.libTypeOptions,function(e,t){return s("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),s("el-date-picker",{staticClass:"w250",attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:e.search},model:{value:e.dateTime,callback:function(t){e.dateTime=t},expression:"dateTime"}}),e._v(" "),s("el-input",{staticClass:"w200",attrs:{placeholder:"输入模板名称/ID/内容",clearable:""},on:{change:e.search},model:{value:e.listParams.content,callback:function(t){e.$set(e.listParams,"content",t)},expression:"listParams.content"}},[s("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})]),e._v(" "),s("el-button",{staticClass:"fr",attrs:{type:"primary"},on:{click:e.addTemp}},[e._v("新建短信模板")]),e._v(" "),s("span",{staticClass:"fr pt10 pr20"},[s("el-tooltip",{attrs:{effect:"dark",placement:"top",content:"审核失败不占用模板数，删除模板可释放占用模板数。如需更多的短信模板请联系GIC运营。"}},[s("i",{staticClass:"iconfont icon-xinxixianshi pl5 gray"})]),e._v(" "),s("span",{staticClass:"gray fz13"},[e._v("可用模板数： "+e._s(e.allUsableCount)+" | 已用模板数："+e._s(e.usedCount))])],1)],1),e._v(" "),s("el-row",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{gutter:20}},e._l(e.smsTempList,function(t,a){return s("el-col",{key:a,attrs:{span:12}},[s("div",{staticClass:"sms-lib-item border1"},[s("div",{staticClass:"sms-lib-item_top"},[e._v("模板名称："+e._s(t.title)+"（ID:"+e._s(t.templateId)+"）")]),e._v(" "),s("div",{staticClass:"sms-lib-item_body"},[2===t.status?s("p",{staticClass:"danger-color"},[s("i",{staticClass:"el-icon-warning"}),e._v(" "+e._s(t.auditResult))]):e._e(),e._v(" "),s("p",[e._v(e._s(t.content))])]),e._v(" "),s("div",{staticClass:"sms-lib-item_bottom clearfix"},[s("div",{staticClass:"fl"},[s("span",[e._v(e._s(t.addUserName))]),e._v(" "),s("span",[e._v("创建于 "+e._s(e.formatDateTimeByType(t.createTime,"yyyy-MM-dd-HH-mm-ss")))])]),e._v(" "),s("div",{staticClass:"fr"},[2===t.status?s("el-button",{attrs:{type:"text"},on:{click:function(a){return e.$router.push("/message/temp/edit/"+t.smsTemplateId)}}},[e._v("修改")]):e._e(),e._v(" "),s("dm-delete",{attrs:{tips:"是否删除该短信模板?"},on:{confirm:function(a){return e.delData(t)}}},[s("el-button",{attrs:{type:"text"}},[e._v("删除")])],1)],1)]),e._v(" "),2===t.status?s("span",{staticClass:"sms-lib-item-tips_right danger-color-bg"},[e._v("未通过")]):e._e(),e._v(" "),1===t.status?s("span",{staticClass:"sms-lib-item-tips_right warning-color-bg"},[e._v("审核中")]):e._e(),e._v(" "),0===t.status?s("span",{staticClass:"sms-lib-item-tips_right success-color-bg"},[e._v("已通过")]):e._e()])])}),1),e._v(" "),0===e.smsTempList.length?s("div",{staticClass:"text-center"},[s("img",{staticClass:"block block-center pt100",attrs:{width:"60",height:"60",src:a("8G9b"),alt:""}}),e._v(" "),s("el-button",{staticClass:"block block-center mt10",attrs:{type:"text"},on:{click:function(t){return e.$router.push("/message/temp/add")}}},[e._v("新建短信模板")])],1):e._e(),e._v(" "),s("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.smsTempList.length,expression:"smsTempList.length"}],staticClass:"dm-pagination",attrs:{background:"","current-page":e.listParams.currentPage,"page-sizes":[20,40,60,80],"page-size":e.listParams.pageSize,layout:"total, sizes, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},staticRenderFns:[]};var d=a("VU/8")(c,p,!1,function(e){a("Ujq8")},"data-v-4d768a78",null);t.default=d.exports},wmo0:function(e,t){}});